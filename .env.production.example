# Production Environment Variables
# Copy to .env.production and fill in real values
#
# IMPORTANT: Never commit .env.production to git!
# This file is a template only.

# ============================================
# DATABASE
# ============================================
# CRITICAL: Change these credentials in production!
POSTGRES_USER=lunchbot_user
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD

# Database connection URL (uses variables above)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/lunch_bot

# ============================================
# JWT AUTHENTICATION
# ============================================
# CRITICAL: Generate a new random secret key for production!
# Use: openssl rand -hex 32
JWT_SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32
JWT_ALGORITHM=HS256
JWT_EXPIRE_DAYS=7

# ============================================
# KAFKA
# ============================================
KAFKA_BROKER_URL=kafka:29092

# ============================================
# REDIS
# ============================================
REDIS_URL=redis://redis:6379

# ============================================
# TELEGRAM
# ============================================
# Production bot token from @BotFather
TELEGRAM_BOT_TOKEN=YOUR_PRODUCTION_BOT_TOKEN

# URL where your Telegram Mini App is hosted
TELEGRAM_MINI_APP_URL=https://your-domain.com

# ============================================
# GEMINI AI
# ============================================
# Comma-separated list of Gemini API keys for load balancing
# Get keys from: https://aistudio.google.com/apikey
GEMINI_API_KEYS=key1,key2,key3

# Model to use (recommended for production)
GEMINI_MODEL=gemini-2.0-flash-exp

# Maximum requests per key before rotation (free tier: 195/min)
GEMINI_MAX_REQUESTS_PER_KEY=195

# ============================================
# CORS
# ============================================
# Allowed origins for CORS (JSON array format)
# Include your production domain and Telegram web app origin
CORS_ORIGINS=["https://your-domain.com","https://web.telegram.org"]

# ============================================
# FRONTEND (Next.js)
# ============================================
# API URL for Next.js build (must be accessible from browser)
NEXT_PUBLIC_API_URL=https://your-domain.com/api/v1

# ============================================
# OPTIONAL: MONITORING & LOGGING
# ============================================
# LOG_LEVEL=INFO
# SENTRY_DSN=your_sentry_dsn_here
# ENABLE_METRICS=true

# ============================================
# OPTIONAL: PERFORMANCE TUNING
# ============================================
# DATABASE_POOL_SIZE=20
# DATABASE_MAX_OVERFLOW=10
# REDIS_MAX_CONNECTIONS=50
# KAFKA_CONSUMER_GROUP=lunch-bot-production

# ============================================
# DEPLOYMENT CHECKLIST
# ============================================
# Before deploying to production, ensure:
#
# [ ] POSTGRES_PASSWORD is a strong random password
# [ ] JWT_SECRET_KEY is generated with: openssl rand -hex 32
# [ ] TELEGRAM_BOT_TOKEN is from your production bot
# [ ] GEMINI_API_KEYS contains valid API keys
# [ ] CORS_ORIGINS includes your production domain
# [ ] NEXT_PUBLIC_API_URL points to your production API
# [ ] .env.production is in .gitignore
# [ ] Database backups are configured
# [ ] SSL certificates are set up for HTTPS
# [ ] nginx/nginx.prod.conf is configured correctly
# [ ] All secrets are stored securely (not in git)
